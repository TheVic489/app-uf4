{"ast":null,"code":"import { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { User } from 'src/app/model/User';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user-login-register.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../../directives/validate-rep-pass.directive\";\nfunction Compo1Component_span_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1, \"* El username es obligatorio \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Compo1Component_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1, \"*Minimo mas de seis letras \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Compo1Component_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1, \"*Solo letras \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Compo1Component_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1, \" *El correo es obligatiorio \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Compo1Component_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1, \" *Formato del correo incorrecto \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Compo1Component_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1, \" *Escribe tu nombre completo \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Compo1Component_span_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1, \" *la contrase\\u00F1a es obligatoria \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Compo1Component_span_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1, \" *minimo 8 caracteres \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Compo1Component_span_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1, \"*la contrae\\u00F1a ha de ser igual que la anterior\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction Compo1Component_span_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1, \"*Confirmar la contrase\\u00F1a es obligatorio\");\n    i0.ɵɵelementEnd();\n  }\n}\n// COMPONENTE DEL REGISTRO\nexport class Compo1Component {\n  constructor(serviceUserLoginRegister) {\n    this.serviceUserLoginRegister = serviceUserLoginRegister;\n    this.result = '';\n    // Form group\n    this.myForm = new FormGroup({\n      username: new FormControl('', [Validators.required, Validators.minLength(6), Validators.pattern('^[A-Za-zñÑáéíóúÁÉÍÓÚ ]+$')]),\n      correo: new FormControl('', [Validators.required,\n      // Validators.email\n      Validators.pattern(\"^[a-z0-9!#$%&'+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'+/=?^_`{|}~-]+)@(?:[a-z0-9](?:[a-z0-9-][a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$\")]),\n      password: new FormControl('', [Validators.required, Validators.minLength(8)]),\n      tel: new FormControl('', [Validators.required]),\n      fullName: new FormControl('', [Validators.required]),\n      passwordrepeat: new FormControl('', [Validators.required])\n    });\n  }\n  submit() {\n    //solo si clicas\n    this.registerUserData = new User(this.myForm.value.fullName, this.myForm.value.username, this.myForm.value.password, 'staff',\n    // Siempre staff al registrar\n    this.myForm.value.correo, this.myForm.value.tel);\n    // Call service for register the user\n    this.serviceUserLoginRegister.registerUser(this.registerUserData).subscribe(res => {\n      console.log('Respuesta  de la componente: ');\n      console.log(res);\n      if (res.affectedRows == 1) {\n        this.result = 'User registered successfully';\n      } else {\n        this.result = 'An error occurred';\n      }\n    });\n  }\n}\nCompo1Component.ɵfac = function Compo1Component_Factory(t) {\n  return new (t || Compo1Component)(i0.ɵɵdirectiveInject(i1.UserLoginRegisterService));\n};\nCompo1Component.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: Compo1Component,\n  selectors: [[\"app-compo1\"]],\n  decls: 33,\n  vars: 14,\n  consts: [[1, \"container\"], [1, \"title\", \"form\"], [1, \"form\", 3, \"formGroup\", \"ngSubmit\"], [\"type\", \"text\", \"formControlName\", \"username\", 1, \"form-control\"], [\"class\", \"red-font\", 4, \"ngIf\"], [\"type\", \"text\", \"formControlName\", \"correo\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"fullName\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"password\", 1, \"form-control\"], [\"type\", \"text\", \"formControlName\", \"passwordrepeat\", \"appValidateRepPass\", \"\", 1, \"form-control\", 3, \"parametro\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"green-font\"], [1, \"red-font\"]],\n  template: function Compo1Component_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\", 1);\n      i0.ɵɵtext(2, \"Formulario de registro\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function Compo1Component_Template_form_ngSubmit_3_listener() {\n        return ctx.submit();\n      });\n      i0.ɵɵelementStart(4, \"p\");\n      i0.ɵɵtext(5, \"Username: \");\n      i0.ɵɵelement(6, \"input\", 3);\n      i0.ɵɵtemplate(7, Compo1Component_span_7_Template, 2, 0, \"span\", 4);\n      i0.ɵɵtemplate(8, Compo1Component_span_8_Template, 2, 0, \"span\", 4);\n      i0.ɵɵtemplate(9, Compo1Component_span_9_Template, 2, 0, \"span\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"p\");\n      i0.ɵɵtext(11, \"Correo: \");\n      i0.ɵɵelement(12, \"input\", 5);\n      i0.ɵɵtemplate(13, Compo1Component_span_13_Template, 2, 0, \"span\", 4);\n      i0.ɵɵtemplate(14, Compo1Component_span_14_Template, 2, 0, \"span\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"p\");\n      i0.ɵɵtext(16, \"Nombre Completo: \");\n      i0.ɵɵelement(17, \"input\", 6);\n      i0.ɵɵtemplate(18, Compo1Component_span_18_Template, 2, 0, \"span\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"p\");\n      i0.ɵɵtext(20, \"Contrase\\u00F1a: \");\n      i0.ɵɵelement(21, \"input\", 7);\n      i0.ɵɵtemplate(22, Compo1Component_span_22_Template, 2, 0, \"span\", 4);\n      i0.ɵɵtemplate(23, Compo1Component_span_23_Template, 2, 0, \"span\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"p\");\n      i0.ɵɵtext(25, \"Repetir contrase\\u00F1a: \");\n      i0.ɵɵelement(26, \"input\", 8);\n      i0.ɵɵtemplate(27, Compo1Component_span_27_Template, 2, 0, \"span\", 4);\n      i0.ɵɵtemplate(28, Compo1Component_span_28_Template, 2, 0, \"span\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"button\", 9);\n      i0.ɵɵtext(30, \"Enviar\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(31, \"div\", 10);\n      i0.ɵɵtext(32);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      let tmp_1_0;\n      let tmp_2_0;\n      let tmp_3_0;\n      let tmp_4_0;\n      let tmp_5_0;\n      let tmp_6_0;\n      let tmp_7_0;\n      let tmp_8_0;\n      let tmp_10_0;\n      let tmp_11_0;\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.myForm);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_1_0 = ctx.myForm.get(\"username\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"required\"]) && ((tmp_1_0 = ctx.myForm.get(\"username\")) == null ? null : tmp_1_0.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = ctx.myForm.get(\"username\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors[\"minlength\"]) && ((tmp_2_0 = ctx.myForm.get(\"username\")) == null ? null : tmp_2_0.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_3_0 = ctx.myForm.get(\"username\")) == null ? null : tmp_3_0.errors == null ? null : tmp_3_0.errors[\"pattern\"]) && ((tmp_3_0 = ctx.myForm.get(\"username\")) == null ? null : tmp_3_0.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_4_0 = ctx.myForm.get(\"correo\")) == null ? null : tmp_4_0.errors == null ? null : tmp_4_0.errors[\"required\"]) && ((tmp_4_0 = ctx.myForm.get(\"correo\")) == null ? null : tmp_4_0.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_5_0 = ctx.myForm.get(\"correo\")) == null ? null : tmp_5_0.errors == null ? null : tmp_5_0.errors[\"pattern\"]) && ((tmp_5_0 = ctx.myForm.get(\"correo\")) == null ? null : tmp_5_0.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_6_0 = ctx.myForm.get(\"fullName\")) == null ? null : tmp_6_0.errors == null ? null : tmp_6_0.errors[\"required\"]) && ((tmp_6_0 = ctx.myForm.get(\"correo\")) == null ? null : tmp_6_0.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_7_0 = ctx.myForm.get(\"password\")) == null ? null : tmp_7_0.errors == null ? null : tmp_7_0.errors[\"required\"]) && ((tmp_7_0 = ctx.myForm.get(\"password\")) == null ? null : tmp_7_0.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_8_0 = ctx.myForm.get(\"password\")) == null ? null : tmp_8_0.errors == null ? null : tmp_8_0.errors[\"minlength\"]) && ((tmp_8_0 = ctx.myForm.get(\"password\")) == null ? null : tmp_8_0.touched));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"parametro\", ctx.myForm.value.password);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_10_0 = ctx.myForm.get(\"passwordrepeat\")) == null ? null : tmp_10_0.errors == null ? null : tmp_10_0.errors[\"samePass\"]) && ((tmp_10_0 = ctx.myForm.get(\"passwordrepeat\")) == null ? null : tmp_10_0.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ((tmp_11_0 = ctx.myForm.get(\"passwordrepeat\")) == null ? null : tmp_11_0.touched) && ((tmp_11_0 = ctx.myForm.get(\"passwordrepeat\")) == null ? null : tmp_11_0.errors == null ? null : tmp_11_0.errors[\"required\"]));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", ctx.myForm.invalid);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" \", ctx.result, \" \");\n    }\n  },\n  dependencies: [i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName, i4.ValidateRepPassDirective],\n  styles: [\".inline[_ngcontent-%COMP%]\\n{\\n    display: inline-block;\\n}\\n\\nform.form[_ngcontent-%COMP%] {\\n    margin-left: 30%;\\n    margin-right: 30%;\\n}\\n\\n.title[_ngcontent-%COMP%] {\\n    margin-bottom: 20px;\\n    margin-top: 20px; \\n    text-align: center;  \\n}\\n.red-font[_ngcontent-%COMP%] {\\n    color: rgb(255, 112, 112);\\n}\\n.green-font[_ngcontent-%COMP%] {\\n    color: rgb(88, 212, 111)\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jb21wbzEvY29tcG8xLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0lBRUkscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQixnQkFBZ0I7SUFDaEIsa0JBQWtCO0FBQ3RCO0FBQ0E7SUFDSSx5QkFBeUI7QUFDN0I7QUFDQTtJQUNJO0FBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyIuaW5saW5lXG57XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuXG5mb3JtLmZvcm0ge1xuICAgIG1hcmdpbi1sZWZ0OiAzMCU7XG4gICAgbWFyZ2luLXJpZ2h0OiAzMCU7XG59XG5cbi50aXRsZSB7XG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICBtYXJnaW4tdG9wOiAyMHB4OyBcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7ICBcbn1cbi5yZWQtZm9udCB7XG4gICAgY29sb3I6IHJnYigyNTUsIDExMiwgMTEyKTtcbn1cbi5ncmVlbi1mb250IHtcbiAgICBjb2xvcjogcmdiKDg4LCAyMTIsIDExMSlcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["FormGroup","FormControl","Validators","User","i0","Compo1Component","constructor","serviceUserLoginRegister","username","required","minLength","pattern","correo","password","tel","fullName","passwordrepeat","submit","registerUserData","myForm","value","registerUser","subscribe","res","console","log","affectedRows","result","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/vic/app-uf4/src/app/components/compo1/compo1.component.ts","/home/vic/app-uf4/src/app/components/compo1/compo1.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { User } from 'src/app/model/User';\nimport { UserLoginRegisterService } from 'src/app/services/user-login-register.service';\nimport { Router } from '@angular/router';\n\n\n// COMPONENTE DEL REGISTRO\n@Component({\n  selector: 'app-compo1',\n  templateUrl: './compo1.component.html',\n  styleUrls: ['./compo1.component.css'],\n})\nexport class Compo1Component {\n  constructor(private serviceUserLoginRegister: UserLoginRegisterService) {}\n\n  //Init vars\n  registerUserData!: User;\n  result = '';\n\n  // Form group\n  myForm = new FormGroup({\n\n    username: new FormControl('', [\n      Validators.required,\n      Validators.minLength(6),\n      Validators.pattern('^[A-Za-zñÑáéíóúÁÉÍÓÚ ]+$'),\n    ]),\n\n    correo: new FormControl('', [\n      Validators.required,\n      // Validators.email\n      Validators.pattern(\n        \"^[a-z0-9!#$%&'+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'+/=?^_`{|}~-]+)@(?:[a-z0-9](?:[a-z0-9-][a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$\"\n      ),\n    ]),\n\n    password: new FormControl('', [\n      Validators.required,\n      Validators.minLength(8),\n    ]),\n    \n    tel:       new FormControl('', [Validators.required]),\n    fullName:  new FormControl('', [Validators.required]),\n\n    passwordrepeat:  new FormControl('', [Validators.required]),\n  });\n  \n  submit(): void {\n    //solo si clicas\n    this.registerUserData = new User(\n      this.myForm.value.fullName,\n      this.myForm.value.username,\n      this.myForm.value.password,\n      'staff',                  // Siempre staff al registrar\n      this.myForm.value.correo,\n      this.myForm.value.tel,\n    );\n\n    // Call service for register the user\n    this.serviceUserLoginRegister.registerUser(this.registerUserData).subscribe((res) => {\n      console.log('Respuesta  de la componente: ');\n      console.log(res);\n      \n      if ( res.affectedRows == 1) {\n        this.result = 'User registered successfully';\n      }else {\n        this.result = 'An error occurred';\n      }\n\n    })\n\n\n  }\n}\n","<div class=\"container\">\n    <h3 class=\"title form \">Formulario de registro</h3> \n    <form [formGroup]=\"myForm\" class=\"form\" (ngSubmit)=\"submit()\">\n        <p>Username:\n            <input class=\"form-control\" type=\"text\" formControlName=\"username\">\n            <span class=\"red-font\" *ngIf=\"this.myForm.get('username')?.errors?.['required'] && \n                                                                            this.myForm.get('username')?.touched\">* El username es obligatorio\n            </span>\n\n            <span class=\"red-font\" *ngIf=\"this.myForm.get('username')?.errors?.['minlength'] && \n                                                                            this.myForm.get('username')?.touched\">*Minimo mas de seis letras\n            </span>\n\n            <span class=\"red-font\" *ngIf=\"this.myForm.get('username')?.errors?.['pattern'] &&\n                                                                             this.myForm.get('username')?.touched\">*Solo letras\n            </span>\n        </p>\n\n        <p>Correo:\n            <input type=\"text\" class=\"form-control\" formControlName=\"correo\">\n            <span class=\"red-font\" *ngIf=\"this.myForm.get('correo')?.errors?.['required'] && this.myForm.get('correo')?.touched\">\n                *El correo es obligatiorio \n            </span>\n\n            <span class=\"red-font\" *ngIf=\"this.myForm.get('correo')?.errors?.['pattern'] && this.myForm.get('correo')?.touched\">\n                *Formato del correo incorrecto\n            </span>\n        </p>\n        \n        <p>Nombre Completo:\n            <input type=\"text\" class=\"form-control\" formControlName=\"fullName\">\n            <span class=\"red-font\" *ngIf=\"this.myForm.get('fullName')?.errors?.['required'] && this.myForm.get('correo')?.touched\">\n                *Escribe tu nombre completo \n            </span>\n        </p>\n\n        <p>Contraseña:\n            <input type=\"text\" class=\"form-control\" formControlName=\"password\">\n            <span class=\"red-font\" *ngIf=\"this.myForm.get('password')?.errors?.['required'] && this.myForm.get('password')?.touched\">\n                *la contraseña es obligatoria\n            </span>\n            <span class=\"red-font\" *ngIf=\"this.myForm.get('password')?.errors?.['minlength'] && this.myForm.get('password')?.touched\">\n                *minimo 8 caracteres\n            </span>\n        </p>\n        \n        <p>Repetir contraseña:\n            <input type=\"text\" formControlName=\"passwordrepeat\" appValidateRepPass [parametro]=\"this.myForm.value.password\" class=\"form-control\">\n            <span class=\"red-font\" *ngIf=\"this.myForm.get('passwordrepeat')?.errors?.['samePass'] && this.myForm.get('passwordrepeat')?.touched\">*la contraeña ha de ser igual que la anterior</span>\n            <span class=\"red-font\" *ngIf=\"this.myForm.get('passwordrepeat')?.touched && this.myForm.get('passwordrepeat')?.errors?.['required']\" >*Confirmar la contraseña es obligatorio</span>\n        </p>\n\n\n        <button class=\"btn btn-primary\" [disabled]=\"myForm.invalid\" type=\"submit\">Enviar</button>\n    </form>\n    <div class=\"green-font\">\n        {{result}}\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}