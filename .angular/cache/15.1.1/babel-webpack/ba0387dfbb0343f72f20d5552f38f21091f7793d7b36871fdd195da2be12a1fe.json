{"ast":null,"code":"import { User } from '../model/User';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ngx-cookie-service\";\nexport class UsersServiceService {\n  constructor(cookieService) {\n    this.cookieService = cookieService;\n    this.myUsersArray = [new User('user01', 'pass01', 'comprador', 'pepito@mail.cat', 'Soltero/a', 'Hombre', 'Musica', 'True'), new User('user02', 'pass01', 'comprador', 'alejandra@mail.cat', 'Divorciat/da', 'Mujer', 'Accesoris', 'True'), new User('user03', 'pass01', 'comprador', 'maria@mail.cat', 'Casat/da', 'Hombre', '', 'True')];\n    this.usernames = [\"Juan\", \"Pedro\", \"Miguel\", \"Andrés\", \"María\", \"user01\", \"user02\"];\n    this.correos = [\"gmail.com\", \"hotmail.com\", \"yahoo.com\", \"outlook.com\"];\n    this.contraseñas = [\"contra\", \"seña\", \"pass04\", \"pass02\", \"pass03\", \"pass01\"];\n    this.roles = ['comprador', 'admin', 'staff'];\n    this.estadoCivil = ['Soltero/a', 'Divorciat/da', 'Casat/da'];\n    this.genders = ['Hombre', 'Mujer', 'Prefriero no decirlo'];\n    this.info = ['', '', 'Accessoris', 'Música'];\n  }\n  getUsers() {\n    for (let i = 0; i < 50; i++) {\n      let usuario = {\n        username: this.usernames[Math.floor(Math.random() * this.usernames.length)],\n        password: this.contraseñas[Math.floor(Math.random() * this.contraseñas.length)],\n        email: `usuario${i}@${this.correos[Math.floor(Math.random() * this.correos.length)]}`,\n        role: this.roles[Math.floor(Math.random() * this.roles.length)],\n        civilStatus: this.estadoCivil[Math.floor(Math.random() * this.estadoCivil.length)],\n        gender: this.genders[Math.floor(Math.random() * this.genders.length)],\n        info: this.info[Math.floor(Math.random() * this.info.length)],\n        conditions: true\n      };\n      this.myUsersArray.push(usuario);\n    }\n  }\n  // Validate and return role of user\n  validateUser(usern, pass) {\n    let role = '';\n    for (const user of this.myUsersArray) {\n      console.log(this.myUsersArray);\n      if (user.username === usern && user.password === pass) {\n        role = user.role;\n        this.cookieService.set('username', user.username);\n        this.cookieService.set('role', user.role);\n      }\n    }\n    ;\n    return role;\n  }\n  registerUser(user2reg) {\n    this.myUsersArray.push(user2reg);\n  }\n  /**\n   * Check if cookie role exists\n   * @returns Boolean, True if exists, false otherwise\n   */\n  checkCookieSession() {\n    return this.cookieService.check('role');\n  }\n  // Get and return Cookie role value\n  getCookieRole() {\n    return this.cookieService.get('role');\n  }\n}\nUsersServiceService.ɵfac = function UsersServiceService_Factory(t) {\n  return new (t || UsersServiceService)(i0.ɵɵinject(i1.CookieService));\n};\nUsersServiceService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: UsersServiceService,\n  factory: UsersServiceService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"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","names":["User","UsersServiceService","constructor","cookieService","getUsers","i","usuario","username","usernames","Math","floor","random","length","password","contraseñas","email","correos","role","roles","civilStatus","estadoCivil","gender","genders","info","conditions","myUsersArray","push","validateUser","usern","pass","user","console","log","set","registerUser","user2reg","checkCookieSession","check","getCookieRole","get","factory","providedIn"],"sourceRoot":"","sources":["/home/vic/app-uf4/src/app/services/users-service.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { User } from '../model/User';\nimport { CookieService } from 'ngx-cookie-service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class UsersServiceService {\n  constructor(private cookieService: CookieService) {}\n  myUsersArray: User[] = [new User('user01', 'pass01', 'comprador', 'pepito@mail.cat',    'Soltero/a',    'Hombre', 'Musica', 'True'),\n                          new User('user02', 'pass01', 'comprador', 'alejandra@mail.cat', 'Divorciat/da', 'Mujer',  'Accesoris', 'True'),\n                          new User('user03', 'pass01', 'comprador', 'maria@mail.cat',     'Casat/da',     'Hombre', '', 'True'),\n     ];\n\n  usernames   = [\"Juan\", \"Pedro\", \"Miguel\", \"Andrés\", \"María\", \"user01\", \"user02\"];\n  correos     = [\"gmail.com\", \"hotmail.com\", \"yahoo.com\", \"outlook.com\"];\n  contraseñas = [\"contra\", \"seña\", \"pass04\", \"pass02\", \"pass03\", \"pass01\"];\n  roles       = ['comprador', 'admin', 'staff']\n  estadoCivil = ['Soltero/a', 'Divorciat/da', 'Casat/da']\n  genders     = ['Hombre', 'Mujer', 'Prefriero no decirlo']\n  info        = ['', '', 'Accessoris', 'Música']\n  \n  getUsers() {\n    for (let i = 0; i < 50; i++) {\n      let usuario: User = {\n        username: this.usernames[Math.floor(Math.random() * this.usernames.length)],\n        password: this.contraseñas[Math.floor(Math.random() * this.contraseñas.length)],\n        email: `usuario${i}@${this.correos[Math.floor(Math.random() * this.correos.length)]}`,\n        role: this.roles[Math.floor(Math.random() * this.roles.length)],\n        civilStatus: this.estadoCivil[Math.floor(Math.random() * this.estadoCivil.length)],\n        gender: this.genders[Math.floor(Math.random() * this.genders.length)],\n        info: this.info[Math.floor(Math.random() * this.info.length)],\n        conditions: true\n      };\n      this.myUsersArray.push(usuario);\n    }\n  }\n// Validate and return role of user\nvalidateUser(usern: any, pass: any): string {\n  let role = '';\n  for (const user of this.myUsersArray) {\n    console.log(this.myUsersArray)\n    if (user.username === usern && user.password === pass) {\n      role = user.role\n      this.cookieService.set('username', user.username);\n      this.cookieService.set('role', user.role);\n    }\n  };\n  return role\n}\n  registerUser(user2reg: User): any {\n    this.myUsersArray.push(user2reg);\n  }\n\n  /**\n   * Check if cookie role exists\n   * @returns Boolean, True if exists, false otherwise\n   */\n  checkCookieSession(): boolean {\n    return this.cookieService.check('role');\n  }\n  \n  // Get and return Cookie role value\n  getCookieRole(): string {\n    return this.cookieService.get('role')\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}