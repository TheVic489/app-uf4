{"ast":null,"code":"import { Animal } from 'src/app/model/Animal';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user-login-register.service\";\nimport * as i2 from \"@angular/common\";\nfunction CompoTableComponent_tr_21_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function CompoTableComponent_tr_21_button_18_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.deleteRow(ctx_r3.event));\n    });\n    i0.ɵɵtext(1, \"Delete\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CompoTableComponent_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 5);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\", 5);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 5);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 5);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\", 5);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\", 5);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\", 5);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 5)(16, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function CompoTableComponent_tr_21_Template_button_click_16_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const dato_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.selectRow(dato_r1.id));\n    });\n    i0.ɵɵtext(17, \"Select\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, CompoTableComponent_tr_21_button_18_Template, 2, 0, \"button\", 7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const dato_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dato_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dato_r1.grup);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dato_r1.familia);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dato_r1.especie);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dato_r1.origen);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dato_r1.endemisme);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dato_r1.ambient);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.myRole == \"admin\" || ctx_r0.myRole == \"staff\");\n  }\n}\nexport class CompoTableComponent {\n  //constructor--> injectar \"coses\"\n  constructor(myHttpService) {\n    this.myHttpService = myHttpService;\n    this.tableData = [];\n  }\n  selectRow(id) {\n    // Set the selectedId variable to the ID of the clicked row\n    this.selectedId = id;\n    console.log('Selected ID:', this.selectedId);\n  }\n  //En el momento de inicar se hace esta funcion la cual llama a la lista de eventos y crea variables limites para el pagination\n  ngOnInit() {\n    this.myHttpService.getTableData().subscribe(data => {\n      for (let i = 0; i < data.length; i++) {\n        let res = data[i];\n        let animal = new Animal(res['Id'], res['Grup'], res['Familia'], res['Espècie'], res['Origen'], res['Endemisme'], res['Ambient']);\n        console.log(animal);\n        this.tableData.push(animal);\n      }\n      console.log(this.tableData);\n    });\n  }\n}\nCompoTableComponent.ɵfac = function CompoTableComponent_Factory(t) {\n  return new (t || CompoTableComponent)(i0.ɵɵdirectiveInject(i1.UserLoginRegisterService));\n};\nCompoTableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CompoTableComponent,\n  selectors: [[\"app-compo-table\"]],\n  decls: 22,\n  vars: 1,\n  consts: [[1, \"title\"], [1, \"table-div\"], [1, \"table\", \"table-striped\", \"table-hover\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [1, \"table-active\"], [3, \"click\"], [\"class\", \"btn btn-secondary float-right\", \"id\", \"deleteButton\", 3, \"click\", 4, \"ngIf\"], [\"id\", \"deleteButton\", 1, \"btn\", \"btn-secondary\", \"float-right\", 3, \"click\"]],\n  template: function CompoTableComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\", 0);\n      i0.ɵɵtext(1, \"Species in Catalunya!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"table\", 2)(4, \"thead\")(5, \"tr\")(6, \"th\", 3);\n      i0.ɵɵtext(7, \"ID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"th\", 3);\n      i0.ɵɵtext(9, \"Grup\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\", 3);\n      i0.ɵɵtext(11, \"Familia\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\", 3);\n      i0.ɵɵtext(13, \"Especie\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\", 3);\n      i0.ɵɵtext(15, \"Origen\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\", 3);\n      i0.ɵɵtext(17, \"Endemisme\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\", 3);\n      i0.ɵɵtext(19, \"Ambient\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(20, \"tbody\");\n      i0.ɵɵtemplate(21, CompoTableComponent_tr_21_Template, 19, 8, \"tr\", 4);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"ngForOf\", ctx.tableData);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf],\n  styles: [\".title[_ngcontent-%COMP%] {\\n    margin-bottom: 20px;\\n    margin-top: 20px; \\n    text-align: center;  \\n}\\n.table-div[_ngcontent-%COMP%] {\\n    padding-right: 30px;\\n    padding-left: 30px;\\n}\\n.page[_ngcontent-%COMP%] {\\n    text-align: center;\\n    margin-top: 5px; \\n}\\n.number[_ngcontent-%COMP%] {\\n    text-align: center;\\n}\\n.select[_ngcontent-%COMP%] {\\n    padding-left: 20px;\\n\\n}\\nb[_ngcontent-%COMP%] {\\n    font-size: 19px;\\n}\\n\\n.filter[_ngcontent-%COMP%] {\\n    margin-left: 30%;\\n    margin-right: 30%;\\n}\\nul[_ngcontent-%COMP%]   .ngx-pagination[_ngcontent-%COMP%] {\\n    padding-left: 0;\\n\\n}\\n.float-right[_ngcontent-%COMP%] {\\n    float: right;\\n    margin-right: 100px;\\n\\n}\\n.abajo-izquierda[_ngcontent-%COMP%] {\\n    text-align: right;\\n    float: right;\\n    position: absolute;\\n}\\nform.form[_ngcontent-%COMP%] {\\n    margin-left: 30%;\\n    margin-right: 30%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jb21wby10YWJsZS9jb21wby10YWJsZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksbUJBQW1CO0lBQ25CLGdCQUFnQjtJQUNoQixrQkFBa0I7QUFDdEI7QUFDQTtJQUNJLG1CQUFtQjtJQUNuQixrQkFBa0I7QUFDdEI7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixlQUFlO0FBQ25CO0FBQ0E7SUFDSSxrQkFBa0I7QUFDdEI7QUFDQTtJQUNJLGtCQUFrQjs7QUFFdEI7QUFDQTtJQUNJLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCO0FBQ0E7SUFDSSxlQUFlOztBQUVuQjtBQUNBO0lBQ0ksWUFBWTtJQUNaLG1CQUFtQjs7QUFFdkI7QUFDQTtJQUNJLGlCQUFpQjtJQUNqQixZQUFZO0lBQ1osa0JBQWtCO0FBQ3RCO0FBQ0E7SUFDSSxnQkFBZ0I7SUFDaEIsaUJBQWlCO0FBQ3JCIiwic291cmNlc0NvbnRlbnQiOlsiLnRpdGxlIHtcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgIG1hcmdpbi10b3A6IDIwcHg7IFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjsgIFxufVxuLnRhYmxlLWRpdiB7XG4gICAgcGFkZGluZy1yaWdodDogMzBweDtcbiAgICBwYWRkaW5nLWxlZnQ6IDMwcHg7XG59XG4ucGFnZSB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIG1hcmdpbi10b3A6IDVweDsgXG59XG4ubnVtYmVyIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4uc2VsZWN0IHtcbiAgICBwYWRkaW5nLWxlZnQ6IDIwcHg7XG5cbn1cbmIge1xuICAgIGZvbnQtc2l6ZTogMTlweDtcbn1cblxuLmZpbHRlciB7XG4gICAgbWFyZ2luLWxlZnQ6IDMwJTtcbiAgICBtYXJnaW4tcmlnaHQ6IDMwJTtcbn1cbnVsIC5uZ3gtcGFnaW5hdGlvbiB7XG4gICAgcGFkZGluZy1sZWZ0OiAwO1xuXG59XG4uZmxvYXQtcmlnaHQge1xuICAgIGZsb2F0OiByaWdodDtcbiAgICBtYXJnaW4tcmlnaHQ6IDEwMHB4O1xuXG59XG4uYWJham8taXpxdWllcmRhIHtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICBmbG9hdDogcmlnaHQ7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xufVxuZm9ybS5mb3JtIHtcbiAgICBtYXJnaW4tbGVmdDogMzAlO1xuICAgIG1hcmdpbi1yaWdodDogMzAlO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\n;","map":{"version":3,"mappings":"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","names":["Animal","i0","CompoTableComponent","constructor","myHttpService","selectRow","id","selectedId","console","log","ngOnInit","getTableData","subscribe","data","i","length","res","animal","tableData","push","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/vic/app-uf4/src/app/components/compo-table/compo-table.component.ts","/home/vic/app-uf4/src/app/components/compo-table/compo-table.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { CookieService } from 'ngx-cookie-service';\nimport { User } from 'src/app/model/User';\nimport { UserLoginRegisterService} from 'src/app/services/user-login-register.service';\nimport { Animal } from 'src/app/model/Animal';\n\n@Component({\n  selector: 'app-compo-table',\n  templateUrl: './compo-table.component.html',\n  styleUrls: ['./compo-table.component.css']\n})\nexport class CompoTableComponent implements OnInit{\n\n  tableData:   any[]=[];\n  message!:   string;\n  selectedId!: number | undefined;\n\n  //constructor--> injectar \"coses\"\n  constructor(private myHttpService: UserLoginRegisterService){\n  }\n  \n  selectRow(id: number) {\n    // Set the selectedId variable to the ID of the clicked row\n    this.selectedId = id;\n    console.log('Selected ID:', this.selectedId);\n  }\n  //En el momento de inicar se hace esta funcion la cual llama a la lista de eventos y crea variables limites para el pagination\n  ngOnInit() {\n      this.myHttpService.getTableData().subscribe(data => {\n        for(let i = 0;i < data.length;i++){\n          let res = data[i]\n          let animal = new Animal(res['Id'], res['Grup'],res['Familia'],res['Espècie'],res['Origen'],res['Endemisme'],res['Ambient'])\n          console.log(animal)\n          this.tableData.push(animal)\n        }\n        console.log(this.tableData)\n    })\n  \n  }};","<h1 class=\"title\">Species in Catalunya!</h1>\n<div class=\"table-div\">\n  <table class=\"table table-striped table-hover\">\n    <thead>\n      <tr>\n        <th scope=\"col\">ID</th>\n        <th scope=\"col\">Grup</th>\n        <th scope=\"col\">Familia</th>\n        <th scope=\"col\">Especie</th>\n        <th scope=\"col\">Origen</th>\n        <th scope=\"col\">Endemisme</th>\n        <th scope=\"col\">Ambient</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let dato of tableData\">\n        <td class=\"table-active\">{{ dato.id }}</td>\n        <td class=\"table-active\">{{ dato.grup }}</td>\n        <td class=\"table-active\">{{ dato.familia }}</td>\n        <td class=\"table-active\">{{ dato.especie }}</td>\n        <td class=\"table-active\">{{ dato.origen }}</td>\n        <td class=\"table-active\">{{ dato.endemisme }}</td>\n        <td class=\"table-active\">{{ dato.ambient }}</td>\n\n        <td class=\"table-active\">\n          <button (click)=\"selectRow(dato.id)\">Select</button>\n          <button *ngIf=\"myRole == 'admin'|| myRole == 'staff'\" class=\"btn btn-secondary float-right\" id=\"deleteButton\" (click)=\"deleteRow(event)\">Delete</button>\n\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}